# Mouse Brain Templates

This repository distributes as collection of high-resolution mouse brain templates in standard spaces, most prominently high-resolution templates transformed to a stereotaxically aligned standard space, which accurately represents the shape of the brain as constrained by the intact skull.
The repository contains the aforementeioned files inside the `mouse-brain-templates/` subdirectory, bundled package releases inside the `releases/` subdirectory, the code required to regenerate the templates inside the `code/` subdirectory, as well as mirrors of all required source files inside the `resources/` subdirectory. 

This repository uses git-annex via datalad, and fetching the binary files is best accomplished via:

```
git clone https://github.com/IBT-FMI/mouse-brain-templates.git
cd mouse-brain-templates
git remote add gin https://gin.g-node.org/TheChymera/mouse-brain-templates.git
datalad get .
```

Alternatively, you can only fetch a subset of the binary data, by e.g. running `datalad get mouse-brain-templates` instead of `datalad get .`.


## Constituent Templates

The `mouse-brain-templates` archives generated by these scripts include the constituent templates at the original resolution and at 40 and 200 micron downsamplings, with appropriate smoothing.
Additionally, standard space modifications are applied, e.g. to conform to the NIfTI-conform SAMRI standard space (RAS orientation with Paxinos Bregma origin).

* [AMBMC](http://imaging.org.au/AMBMC/Model):
	* `ambmc` - Reoriented in RAS space, with affine coordinates relative to Paxinos Bregma origin.
	* `lambmc` - With deleted orientation (legacy).
* [DSURQE](http://repo.mouseimaging.ca/repo/DSURQE_40micron_nifti):
	* `dsurqe` - Affine coordinates relative to Paxinos Bregma origin.
	* `ldsurqe` - With deleted orientation (analogous to `lambmc` and created for comparison with it).
* [ABI](http://download.alleninstitute.org/informatics-archive/current-release/mouse_ccf/average_template/average_template_10.nrrd):
	* `abi` - Oriented in RAS space.

**N.B.** The volumetric data fetched and bundled in this archive are not originally recorded by us, all credit for such files goes to the original authors, see our [fair use and citation notice](FAIRUSE-AND-CITATION).


## Mouse Brain Templates Package Releases

Compressed `tar` archives provide the templates as versioned bundles which can be distributed by a package manager to satisfy analysis packages which depend on them (e.g. [SAMRI](https://github.com/IBT-FMI/SAMRI)).
Each release version has two corresponding archives, separating the templates into the baseline set and a high-definition set, the latter contains 15Î¼m isometric templates, a resolution which is only required for a small subset of applications.


## Generator Workflows

The regeneration of the templates is handled by a Makefile and can be invoked by calling `make all`.
This will result in the creation of the template files in the intermediary `work/` subdirectory, which will also contain intermediary files resulting from the transformation sequences.
The output template files can be extracted into the `mouse-brain-templates/` subdirectory via the `make copy` command.
Alternatively, both commands can be executed via the `make publish` shorthand.
Archives can be generated by running the `VERSION="X.X.X" make archive` command after `make publish`.
A version number needs to be provided via the `VERSION` variable, in order to instruct the make system as to how the new release should be recorded.
