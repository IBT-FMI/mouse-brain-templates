# Mouse Brain Templates Generator Workflows

Scripts to build the mouse brain templates collection used by [SAMRI](https://github.com/IBT-FMI/SAMRI) and more generally by the ETH and University of Zurich Animal Imaging Center.

The script fetches atlas data from verified sources, applies the default NIfTI orientation (RAS) where needed, resets the origin of selected templates to bregma, and applies a consistent naming scheme and resolution set to all templates.
Additionally, the workflow can create a mesh object via a dedicated Blender pipeline, which is useful for surface and high-resolution rendering, as well as 3D printing.

**N.B.** The volumetric data fetched and bundled in this archive are not originally recorded by us, all credit for such files goes to the original authors, see our [fair use and citation notice](FAIRUSE-AND-CITATION).

# Mouse Brain Templates Package Releases

Current recommended release in bold typeface, basic resolution and HD packages with archive checksums linked in parentheses:

* **[mouse-brain-templates-0.5.3](http://chymera.eu/distfiles/mouse-brain-templates-0.5.3.tar.xz)** \[[SHA512 checksum](http://chymera.eu/distfiles/mouse-brain-templates-0.5.3.sha512)\], **[mouse-brain-templatesHD-0.5.3](http://chymera.eu/distfiles/mouse-brain-templatesHD-0.5.3.tar.xz)** \[[SHA512 checksum](http://chymera.eu/distfiles/mouse-brain-templatesHD-0.5.3.sha512)\]

# Constituent Templates

The `mouse-brain-templates` archives generated by these scripts include the constituent templates at the original resolution and at 40 and 200 micron downsamplings, with appropriate smoothing.
Additionally, standard space modifications are applied, e.g. to conform to the NIfTI-conform SAMRI standard space (RAS orientation with Paxinos Bregma origin).

* [AMBMC](http://imaging.org.au/AMBMC/Model):
	* `ambmc` - Reoriented in RAS space, with affine coordinates relative to Paxinos Bregma origin.
	* `lambmc` - With deleted orientation (legacy).
* [DSURQE](http://repo.mouseimaging.ca/repo/DSURQE_40micron_nifti):
	* `dsurqe` - Affine coordinates relative to Paxinos Bregma origin.
	* `ldsurqe` - With deleted orientation (analogous to `lambmc` and created for comparison with it).
* [ABI](http://download.alleninstitute.org/informatics-archive/current-release/mouse_ccf/average_template/average_template_10.nrrd):
	* `abi` - Oriented in RAS space.

# Usage

In order to create a new version of the mouse-brain-templates package, simply clone this repository, and navigate to its root directory:

```
git clone https://github.com/IBT-FMI/mouse-brain-templates_generator.git
cd mouse-brain-templates_generator
```

and then run:

```
./make_archives.sh -v 0.5 -m
```

This will create archives with the newest files fetched from upstream and processed according to the instructions standardized in this package.
The version suffix will be `0.5` (as per the `-v 0.5` parameter) and a high-resolution mesh for the standardized space will also be generated (as per the `-m` flag).
